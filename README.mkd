# üìà Rob√¥ de An√°lise de Tend√™ncia para Ativos Financeiros (Binary Option Bot)

## üìÑ Descri√ß√£o do Projeto

Este projeto √© um rob√¥ de software (`bot`) desenvolvido em Python para fins educacionais. Sua principal fun√ß√£o √© analisar dados hist√≥ricos de ativos financeiros em tempo real, aplicar um modelo de Machine Learning para prever a tend√™ncia de pre√ßo (se vai subir ou cair) no pr√≥ximo intervalo de tempo e, em seguida, exibir essa previs√£o.

O bot utiliza a biblioteca `yfinance` para buscar dados de ativos diretamente do Yahoo Finance e um modelo `RandomForestClassifier` da biblioteca `scikit-learn` para realizar as previs√µes.

‚ö†Ô∏è **AVISO DE RISCO:** Este projeto √© estritamente para fins de estudo e demonstra√ß√£o de conceitos de an√°lise de dados e Machine Learning. O mercado financeiro √© extremamente vol√°til e imprevis√≠vel. **N√£o utilize este rob√¥ para tomar decis√µes de investimento reais**, pois isso pode resultar em perdas financeiras significativas.

---

## üõ†Ô∏è Como Instalar e Configurar

As instru√ß√µes abaixo s√£o compat√≠veis com **Windows** e **Linux**.

### 1. Pr√©-requisitos
- **Python 3.10 ou superior:** √â necess√°rio ter o Python instalado.
  - [Baixar Python](https://www.python.org/downloads/)
  - **Importante (Windows):** Durante a instala√ß√£o, marque a caixa `Add python.exe to PATH`.

- **Git (Opcional):** Para clonar o reposit√≥rio.
  - [Baixar Git](https://git-scm.com/downloads)

### 2. Baixe o Projeto
Voc√™ pode clonar o reposit√≥rio com Git (recomendado) ou baixar o arquivo ZIP.

```bash
# Clone o reposit√≥rio
git clone https://github.com/matheus9999/binary-option-bot.git
cd binary-option-bot
```

### 3. Crie e Ative um Ambiente Virtual (`venv`)
Isso isola as depend√™ncias do projeto.

```bash
# Crie o ambiente virtual
python3 -m venv venv

# Ative o ambiente (Linux/macOS)
source venv/bin/activate

# Ative o ambiente (Windows - PowerShell/CMD)
.\venv\Scripts\activate
```
Ap√≥s a ativa√ß√£o, voc√™ ver√° `(venv)` no in√≠cio do seu terminal.

### 4. Instale as Depend√™ncias
Execute o comando abaixo para instalar todas as bibliotecas necess√°rias.

```bash
pip install -r requirements.txt
```

### 5. Execu√ß√£o do Rob√¥
Para iniciar o rob√¥, basta executar o script principal:

```bash
python3 main.py
```
O rob√¥ far√° uma execu√ß√£o inicial e depois continuar√° executando em intervalos definidos (padr√£o: 15 minutos).

```bash
=========================================
=== INICIANDO EXECU√á√ÉO DO BOT: Wed Oct 29 00:38:11 2025 ===
=========================================
Ativo: BTC-USD | Intervalo: 1m | Per√≠odo: 8d

--- 1. Coletando Dados para BTC-USD ---
Dados coletados: 9214 velas.
--- 2. Criando Features e Alvo com base na nova estrat√©gia ---
Adicionadas 25 colunas de indicadores e padr√µes.
Total de velas v√°lidas ap√≥s engenharia de features: 9114
--- 3. Treinamento e Avalia√ß√£o do Modelo ---
Amostra de treino: 7291
Amostra de teste: 1823

Iniciando treinamento do modelo...

--- Avalia√ß√£o do Modelo (em dados de teste) ---
Acur√°cia: 52.11%

Relat√≥rio de Classifica√ß√£o:
              precision    recall  f1-score   support

        CAIR       0.54      0.49      0.51       936
       SUBIR       0.51      0.56      0.53       887

    accuracy                           0.52      1823
   macro avg       0.52      0.52      0.52      1823
weighted avg       0.52      0.52      0.52      1823

Matriz de Confus√£o:
[[456 480]
 [393 494]]

--- Features Mais Importantes ---
lag_1     0.096356
lag_2     0.081873
lag_3     0.078093
lag_8     0.072578
lag_6     0.070855
lag_10    0.070723
rsi       0.070648
lag_4     0.069258
lag_7     0.068445
lag_9     0.068050
dtype: float64

Salvando modelo em artifacts/trained_model.joblib...
--- 4. Fazendo a Pr√≥xima Previs√£o ---

Usando as seguintes features (dados mais recentes):
Datetime      2025-10-29 03:33:00+00:00
Dividends                      0.000000
Stock Splits                   0.000000
lag_1                          0.000254
lag_2                          0.000333
lag_3                          0.001039
lag_4                          0.000481
lag_5                          0.000714
lag_6                          0.000356
lag_7                          0.000349
lag_8                          0.000186

PREVIS√ÉO: O modelo prev√™ que o pre√ßo vai CAIR.
Confian√ßa: 57.12%

=== EXECU√á√ÉO FINALIZADA ===

Agendando a pr√≥xima execu√ß√£o para daqui a 1 minutos.

```

---

## üìä Fontes de Dados

O rob√¥ obt√©m os dados hist√≥ricos e em tempo real dos ativos financeiros atrav√©s da biblioteca **`yfinance`**, que extrai informa√ß√µes diretamente do **Yahoo Finance**.

Isso significa que voc√™ pode configurar o rob√¥ para analisar qualquer ativo que possua um "ticker" (s√≠mbolo) v√°lido no Yahoo Finance.

- **Exemplos de Tickers:**
  - **Moedas:** `EURUSD=X`, `BTC-USD`, `ETH-USD`
  - **A√ß√µes:** `AAPL`, `GOOGL`, `PETR4.SA`

Voc√™ pode encontrar outros tickers pesquisando diretamente no site: [finance.yahoo.com](https://finance.yahoo.com/).

---

## üß† Estrat√©gias de An√°lise

O rob√¥ n√£o usa uma √∫nica estrat√©gia fixa, mas sim uma abordagem de **Machine Learning**. Ele calcula uma s√©rie de indicadores de an√°lise t√©cnica e padr√µes de candlestick a partir dos dados hist√≥ricos e os utiliza como "features" (caracter√≠sticas) para treinar um modelo. O modelo aprende a identificar quais combina√ß√µes desses indicadores t√™m maior probabilidade de levar a uma alta ou baixa no pre√ßo.

Os principais indicadores e padr√µes utilizados s√£o:

1.  **Features de Lag (Momentum):**
    - Calcula a varia√ß√£o percentual do pre√ßo de fechamento em rela√ß√£o aos √∫ltimos `N` per√≠odos (ex: 1 minuto atr√°s, 2 minutos atr√°s, etc.). Isso ajuda o modelo a entender a for√ßa e a dire√ß√£o do movimento recente.

2.  **Indicadores T√©cnicos:**
    - **M√©dias M√≥veis Exponenciais (EMAs):** Utiliza tr√™s EMAs (curta de 5 per√≠odos, m√©dia de 15 e longa de 100) para identificar tend√™ncias de curto, m√©dio e longo prazo. Cruzamentos entre essas m√©dias s√£o sinais importantes.
    - **√çndice de For√ßa Relativa (RSI):** Um oscilador de momentum que mede a velocidade e a mudan√ßa dos movimentos de pre√ßos para identificar condi√ß√µes de "sobrecompra" ou "sobrevenda".

3.  **Padr√µes de Candlestick:**
    O rob√¥ √© programado para reconhecer os seguintes padr√µes de velas, que s√£o fortes indicativos de psicologia de mercado:
    - **Engolfo (Engulfing):** Um padr√£o de revers√£o forte (alta ou baixa).
    - **Pin Bar (Martelo / Estrela Cadente):** Indica uma poss√≠vel rejei√ß√£o de pre√ßo e revers√£o.
    - **Inside Bar:** Sinaliza consolida√ß√£o e indecis√£o, muitas vezes antes de um movimento forte.
    - **Marubozu:** Uma vela "cheia" que indica forte momentum de compra ou venda.

O modelo de `RandomForestClassifier` analisa o conjunto de todos esses indicadores e decide qual √© a previs√£o mais prov√°vel (SUBIR ou CAIR) para o pr√≥ximo per√≠odo.